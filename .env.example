# =============================================================================
# miuOps Stack Environment Variables
# Copy this content into your GitHub Actions secret named ENV_FILE
# =============================================================================

# -- AWS credentials (shared by offen volume backup + WAL-G) ------------------
# Run scripts/setup-s3-backup.sh in the metal repo to create these.
AWS_ACCESS_KEY_ID=AKIAEXAMPLE
AWS_SECRET_ACCESS_KEY=wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY
AWS_REGION=us-west-2

# -- Offen volume backup ------------------------------------------------------
BACKUP_S3_BUCKET=myproject-backup
# Optional: S3-compatible endpoint (leave empty for AWS S3)
BACKUP_AWS_ENDPOINT=
# Optional: S3 prefix path (default: vol)
BACKUP_S3_PATH=vol

# -- Backup encryption (strongly recommended, pick ONE method) ----------------
# Backups include .env (secrets) — encrypt to protect them at rest.
# See https://github.com/tianshanghong/miuops/blob/main/docs/BACKUP_ENCRYPTION.md
# GPG_PASSPHRASE=
# AGE_PASSPHRASE=
# AGE_PUBLIC_KEYS=
# GPG asymmetric uses a key file, not an env var — see the link above.

# -- WAL-G (PostgreSQL continuous archiving) -----------------------------------
# Prefix format: s3://<bucket>/db/<app-name>
WALG_S3_PREFIX=s3://myproject-backup/db/myapp

# -- Docker registry authentication (optional) --------------------------------
# Pull images from private registries. Name each registry however you like.
# Pattern: DOCKER_REGISTRY_<NAME>_URL, _USER, _PASSWORD
# The deploy workflow auto-discovers and logs in to all configured registries.

# GitHub Container Registry
# Create a Personal Access Token with read:packages scope:
# https://github.com/settings/tokens
# DOCKER_REGISTRY_GHCR_URL=ghcr.io
# DOCKER_REGISTRY_GHCR_USER=your-github-username
# DOCKER_REGISTRY_GHCR_PASSWORD=ghp_xxxxxxxxxxxx

# Docker Hub
# Create an access token: https://hub.docker.com/settings/security
# DOCKER_REGISTRY_DOCKERHUB_URL=docker.io
# DOCKER_REGISTRY_DOCKERHUB_USER=your-dockerhub-username
# DOCKER_REGISTRY_DOCKERHUB_PASSWORD=dckr_pat_xxxxxxxxxxxx

# Custom registry (any OCI-compatible registry)
# DOCKER_REGISTRY_WORK_URL=registry.example.com
# DOCKER_REGISTRY_WORK_USER=your-username
# DOCKER_REGISTRY_WORK_PASSWORD=your-token
